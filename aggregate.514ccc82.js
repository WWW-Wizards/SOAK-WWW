!function(){function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire5e30,i=t.register;i("8kOzd",function(i,n){e(i.exports,"Aggregate",function(){return y});var r=t("huGOm"),a=t("8auZx"),o=t("dpdfa"),s=t("dTkGJ"),l=t("gUmiN"),u=t("6Lc7k"),c=t("gRY06"),d=t("27uK3"),f=t("kI9nw"),g=t("iDyCb"),h=t("erqE9"),m=t("hP1Bb"),p=t("4mnMC"),T=t("bUgi3"),b=t("7CBaz"),v=t("iQJat");class y extends u.AggregateBase{static featureName=s.FEATURE_NAME;#e=({name:e,value:t,attrs:i})=>{this.addTiming(e,t,i)};constructor(e){super(e,s.FEATURE_NAME),this.curSessEndRecorded=!1,this.firstIxnRecorded=!1,(0,a.registerHandler)("docHidden",e=>this.endCurrentSession(e),this.featureName,this.ee),(0,a.registerHandler)("winPagehide",e=>this.addTiming("unload",e,null),this.featureName,this.ee),this.waitForFlags([]).then(()=>{f.firstPaint.subscribe(this.#e),d.firstContentfulPaint.subscribe(this.#e),h.largestContentfulPaint.subscribe(this.#e),g.interactionToNextPaint.subscribe(this.#e),m.timeToFirstByte.subscribe(({attrs:e})=>{this.addTiming("load",Math.round(e.navigationEntry.loadEventEnd))}),(0,p.subscribeToVisibilityChange)(()=>{let{name:e,value:t,attrs:i}=c.cumulativeLayoutShift.current;void 0!==t&&this.addTiming(e,1e3*t,i)},!0,!0),this.drain()})}endCurrentSession(e){this.curSessEndRecorded||(this.addTiming("pageHide",e,null),this.curSessEndRecorded=!0)}addTiming(e,t,i){var n,r;n=i=i||{},(r=navigator.connection||navigator.mozConnection||navigator.webkitConnection)&&(r.type&&(n["net-type"]=r.type),r.effectiveType&&(n["net-etype"]=r.effectiveType),r.rtt&&(n["net-rtt"]=r.rtt),r.downlink&&(n["net-dlink"]=r.downlink)),e!==T.VITAL_NAMES.CUMULATIVE_LAYOUT_SHIFT&&c.cumulativeLayoutShift.current.value>=0&&(i.cls=c.cumulativeLayoutShift.current.value);let a={name:e,value:t,attrs:i};return this.events.add(a),(0,o.handle)("pvtAdded",[e,t,i],void 0,l.FEATURE_NAMES.sessionTrace,this.ee),this.checkForFirstInteraction(),a}checkForFirstInteraction(){if(this.firstIxnRecorded||b.initiallyHidden||!performance)return;let e=performance.getEntriesByType("first-input")[0];e&&(this.firstIxnRecorded=!0,this.addTiming("fi",e.startTime,{type:e.name,eventTarget:(0,v.eventOrigin)(e.target),loadState:document.readyState}))}appendGlobalCustomAttributes(e){var t=e.attrs||{},i=["size","eid","cls","type","fid","elTag","elUrl","net-type","net-etype","net-rtt","net-dlink"];Object.entries(this.agentRef.info.jsAttributes||{}).forEach(([e,n])=>{0>i.indexOf(e)&&(t[e]=n)})}preHarvestChecks(){return this.checkForFirstInteraction(),super.preHarvestChecks()}serializer(e){for(var t=(0,r.getAddStringContext)(this.agentRef.runtime.obfuscator),i="bel.6;",n=0;n<e.length;n++){var a=e[n];i+="e,"+t(a.name)+","+(0,r.nullable)(a.value,r.numeric,!1)+",",this.appendGlobalCustomAttributes(a);var o=(0,r.addCustomAttributes)(a.attrs,t);o&&o.length>0&&(i+=(0,r.numeric)(o.length)+";"+o.join(";")),n+1<e.length&&(i+=";")}return i}}}),i("huGOm",function(i,n){e(i.exports,"nullable",function(){return o}),e(i.exports,"numeric",function(){return s}),e(i.exports,"getAddStringContext",function(){return l}),e(i.exports,"addCustomAttributes",function(){return u});var r=t("gSI6b"),a=Object.prototype.hasOwnProperty;function o(e,t,i){return e||0===e||""===e?t(e)+(i?",":""):"!"}function s(e,t){return t?Math.floor(e).toString(36):void 0===e||0===e?"":Math.floor(e).toString(36)}function l(e){let t=0,i=Object.prototype.hasOwnProperty.call(Object,"create")?Object.create(null):{};return function(n){return void 0===n||""===n?"":(n=e.obfuscateString(String(n)),a.call(i,n))?s(i[n],!0):(i[n]=t++,"'"+n.replace(c,"\\$1"))}}function u(e,t){var i=[];return Object.entries(e||{}).forEach(([e,n])=>{if(!(i.length>=64)){var a,o=5;switch(e=t(e),typeof n){case"object":n?a=t((0,r.stringify)(n)):o=9;break;case"number":o=6,a=n%1?n:n+".";break;case"boolean":o=n?7:8;break;case"undefined":o=9;break;default:a=t(n)}i.push([o,e+(a?","+a:"")])}}),i}var c=/([,\\;])/g}),i("gRY06",function(i,n){e(i.exports,"cumulativeLayoutShift",function(){return l});var r=t("kF4Tt"),a=t("bUgi3"),o=t("dmOjl"),s=t("7CBaz");let l=new(0,o.VitalMetric)(a.VITAL_NAMES.CUMULATIVE_LAYOUT_SHIFT,e=>e);s.isBrowserScope&&(0,r.onCLS)(({value:e,attribution:t,id:i})=>{let n={metricId:i,largestShiftTarget:t.largestShiftTarget,largestShiftTime:t.largestShiftTime,largestShiftValue:t.largestShiftValue,loadState:t.loadState};l.update({value:e,attrs:n})},{reportAllChanges:!0})}),i("iDyCb",function(i,n){e(i.exports,"interactionToNextPaint",function(){return l});var r=t("kF4Tt"),a=t("dmOjl"),o=t("bUgi3"),s=t("7CBaz");let l=new(0,a.VitalMetric)(o.VITAL_NAMES.INTERACTION_TO_NEXT_PAINT);s.isBrowserScope&&(0,r.onINP)(({value:e,attribution:t,id:i})=>{let n={metricId:i,eventTarget:t.interactionTarget,eventTime:t.interactionTime,interactionTarget:t.interactionTarget,interactionTime:t.interactionTime,interactionType:t.interactionType,inputDelay:t.inputDelay,nextPaintTime:t.nextPaintTime,processingDuration:t.processingDuration,presentationDelay:t.presentationDelay,loadState:t.loadState};l.update({value:e,attrs:n})})}),i("erqE9",function(i,n){e(i.exports,"largestContentfulPaint",function(){return u});var r=t("kF4Tt"),a=t("dmOjl"),o=t("bUgi3"),s=t("7CBaz"),l=t("8o3mY");let u=new(0,a.VitalMetric)(o.VITAL_NAMES.LARGEST_CONTENTFUL_PAINT);s.isBrowserScope&&(0,r.onLCP)(({value:e,attribution:t})=>{let i;if(s.initiallyHidden||u.isValid)return;let n=t.lcpEntry;n&&(i={size:n.size,eid:n.id,element:t.element,timeToFirstByte:t.timeToFirstByte,resourceLoadDelay:t.resourceLoadDelay,resourceLoadDuration:t.resourceLoadDuration,resourceLoadTime:t.resourceLoadDuration,elementRenderDelay:t.elementRenderDelay},t.url&&(i.elUrl=(0,l.cleanURL)(t.url)),n.element?.tagName&&(i.elTag=n.element.tagName)),u.update({value:e,attrs:i})})}),i("hP1Bb",function(i,n){e(i.exports,"timeToFirstByte",function(){return l});var r=t("7CBaz"),a=t("bUgi3"),o=t("dmOjl"),s=t("kF4Tt");let l=new(0,o.VitalMetric)(a.VITAL_NAMES.TIME_TO_FIRST_BYTE);if(r.isBrowserScope&&"undefined"!=typeof PerformanceNavigationTiming&&!r.isiOS&&window===window.parent)(0,s.onTTFB)(({value:e,attribution:t})=>{l.isValid||l.update({value:e,attrs:{navigationEntry:t.navigationEntry}})});else if(!l.isValid){let e={};for(let t in r.globalScope?.performance?.timing||{})e[t]=Math.max(r.globalScope?.performance?.timing[t]-r.originTime,0);l.update({value:e.responseStart,attrs:{navigationEntry:e}})}}),i("iQJat",function(t,i){e(t.exports,"eventOrigin",function(){return n});function n(e,t,i){let n="unknown";if(e&&e instanceof XMLHttpRequest){let t=i.context(e).params;if(!t||!t.status||!t.method||!t.host||!t.pathname)return"xhrOriginMissing";n=t.status+" "+t.method+": "+t.host+t.pathname}else if(e&&"string"==typeof e.tagName&&(n=e.tagName.toLowerCase(),e.id&&(n+="#"+e.id),e.className))for(let t=0;t<e.classList.length;t++)n+="."+e.classList[t];return"unknown"===n&&("string"==typeof t?n=t:t===document?n="document":t===window?n="window":t instanceof FileReader&&(n="FileReader")),n}})}();
//# sourceMappingURL=aggregate.514ccc82.js.map
