{"mappings":"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","sources":["<anon>","node_modules/@newrelic/browser-agent/dist/esm/features/metrics/aggregate/index.js","node_modules/@newrelic/browser-agent/dist/esm/features/metrics/aggregate/framework-detection.js","node_modules/@newrelic/browser-agent/dist/esm/common/dom/iframe.js"],"sourcesContent":["(function () {\n\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global =\n        typeof globalThis !== 'undefined'\n          ? globalThis\n          : typeof self !== 'undefined'\n          ? self\n          : typeof window !== 'undefined'\n          ? window\n          : typeof global !== 'undefined'\n          ? global\n          : {};\n  var parcelRequire = $parcel$global[\"parcelRequire5e30\"];\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"2ZDK9\", function(module, exports) {\n\n$parcel$export(module.exports, \"Aggregate\", function () { return $22e01b804188e663$export$b9601df20779e14a; });\n/**\n * Copyright 2020-2025 New Relic, Inc. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \nvar $8auZx = parcelRequire(\"8auZx\");\n\nvar $02hiY = parcelRequire(\"02hiY\");\n\nvar $jir4L = parcelRequire(\"jir4L\");\n\nvar $iyaPc = parcelRequire(\"iyaPc\");\n\nvar $j6o1x = parcelRequire(\"j6o1x\");\n\nvar $bXLOi = parcelRequire(\"bXLOi\");\n\nvar $7CBaz = parcelRequire(\"7CBaz\");\n\nvar $6Lc7k = parcelRequire(\"6Lc7k\");\n\nvar $em8tw = parcelRequire(\"em8tw\");\nclass $22e01b804188e663$export$b9601df20779e14a extends (0, $6Lc7k.AggregateBase) {\n    static featureName = (0, $02hiY.FEATURE_NAME);\n    constructor(agentRef){\n        super(agentRef, (0, $02hiY.FEATURE_NAME));\n        this.harvestOpts.aggregatorTypes = [\n            'cm',\n            'sm'\n        ]; // the types in EventAggregator this feature cares about\n        // This feature only harvests once per potential EoL of the page, which is handled by the central harvester.\n        // this must be read/stored synchronously, as the currentScript is removed from the DOM after this script is executed and this lookup will be void\n        // its used to report a SM later in the lifecycle\n        this.agentNonce = (0, $7CBaz.isBrowserScope) && document.currentScript?.nonce;\n        this.waitForFlags([\n            'err'\n        ]).then(([errFlag])=>{\n            if (errFlag) {\n                this.singleChecks(); // checks that are run only one time, at script load\n                this.eachSessionChecks(); // the start of every time user engages with page\n                this.drain();\n            } else {\n                this.blocked = true; // if rum response determines that customer lacks entitlements for spa endpoint, this feature shouldn't harvest\n                this.deregisterDrain();\n            }\n        });\n        // Allow features external to the metrics feature to capture SMs and CMs through the event emitter\n        (0, $8auZx.registerHandler)((0, $02hiY.SUPPORTABILITY_METRIC_CHANNEL), this.storeSupportabilityMetrics.bind(this), this.featureName, this.ee);\n        (0, $8auZx.registerHandler)((0, $02hiY.CUSTOM_METRIC_CHANNEL), this.storeEventMetrics.bind(this), this.featureName, this.ee);\n    }\n    preHarvestChecks(opts) {\n        return this.drained && opts.isFinalHarvest;\n    }\n    storeSupportabilityMetrics(name, value) {\n        if (this.blocked) return;\n        const type = (0, $02hiY.SUPPORTABILITY_METRIC);\n        const params = {\n            name: name\n        };\n        this.events.addMetric(type, name, params, value);\n    }\n    storeEventMetrics(name, metrics) {\n        if (this.blocked) return;\n        const type = (0, $02hiY.CUSTOM_METRIC);\n        const params = {\n            name: name\n        };\n        this.events.add([\n            type,\n            name,\n            params,\n            metrics\n        ]);\n    }\n    singleChecks() {\n        // report loaderType\n        const { distMethod: distMethod, loaderType: loaderType } = this.agentRef.runtime;\n        const { proxy: proxy, privacy: privacy } = this.agentRef.init;\n        if (loaderType) this.storeSupportabilityMetrics(\"Generic/LoaderType/\".concat(loaderType, \"/Detected\"));\n        if (distMethod) this.storeSupportabilityMetrics(\"Generic/DistMethod/\".concat(distMethod, \"/Detected\"));\n        if (0, $7CBaz.isBrowserScope) {\n            this.storeSupportabilityMetrics('Generic/Runtime/Browser/Detected');\n            if (this.agentNonce && this.agentNonce !== '') this.storeSupportabilityMetrics('Generic/Runtime/Nonce/Detected');\n            // These SMs are used by the AppExp team\n            (0, $j6o1x.onDOMContentLoaded)(()=>{\n                (0, $jir4L.getFrameworks)().forEach((framework)=>{\n                    this.storeSupportabilityMetrics('Framework/' + framework + '/Detected');\n                });\n            });\n            if (!privacy.cookies_enabled) this.storeSupportabilityMetrics('Config/SessionTracking/Disabled');\n        } else if (0, $7CBaz.isWorkerScope) this.storeSupportabilityMetrics('Generic/Runtime/Worker/Detected');\n        else this.storeSupportabilityMetrics('Generic/Runtime/Unknown/Detected');\n        // Track if the agent is being loaded using a file protocol such as is the case in some\n        // set-top box applications or Electron applications\n        if ((0, $iyaPc.isFileProtocol)()) this.storeSupportabilityMetrics('Generic/FileProtocol/Detected');\n        // Capture SMs to assess customer engagement with the obfuscation config\n        if (this.obfuscator.obfuscateConfigRules.length > 0) this.storeSupportabilityMetrics('Generic/Obfuscate/Detected');\n        // Check if proxy for either chunks or beacon is being used\n        if (proxy.assets) this.storeSupportabilityMetrics('Config/AssetsUrl/Changed');\n        if (proxy.beacon) this.storeSupportabilityMetrics('Config/BeaconUrl/Changed');\n        if ((0, $7CBaz.isBrowserScope) && window.MutationObserver) {\n            if ((0, $em8tw.isIFrameWindow)(window)) this.storeSupportabilityMetrics('Generic/Runtime/IFrame/Detected');\n            const preExistingVideos = window.document.querySelectorAll('video').length;\n            if (preExistingVideos) this.storeSupportabilityMetrics('Generic/VideoElement/Added', preExistingVideos);\n            const preExistingIframes = window.document.querySelectorAll('iframe').length;\n            if (preExistingIframes) this.storeSupportabilityMetrics('Generic/IFrame/Added', preExistingIframes);\n            const mo = new MutationObserver((records)=>{\n                records.forEach((record)=>{\n                    record.addedNodes.forEach((addedNode)=>{\n                        if (addedNode instanceof HTMLVideoElement) this.storeSupportabilityMetrics('Generic/VideoElement/Added', 1);\n                        if (addedNode instanceof HTMLIFrameElement) this.storeSupportabilityMetrics('Generic/IFrame/Added', 1);\n                    });\n                });\n            });\n            mo.observe(window.document.body, {\n                childList: true,\n                subtree: true\n            });\n        }\n        // webdriver detection\n        if (navigator.webdriver) this.storeSupportabilityMetrics('Generic/WebDriver/Detected');\n    // WATCHABLE_WEB_SOCKET_EVENTS.forEach(tag => {\n    //   registerHandler('buffered-' + WEBSOCKET_TAG + tag, (...args) => {\n    //     handleWebsocketEvents(this.storeSupportabilityMetrics.bind(this), tag, ...args)\n    //   }, this.featureName, this.ee)\n    // })\n    }\n    eachSessionChecks() {\n        if (!(0, $7CBaz.isBrowserScope)) return;\n        // [Temporary] Report restores from BFCache to NR1 while feature flag is in place in lieu of sending pageshow events.\n        (0, $bXLOi.windowAddEventListener)('pageshow', (evt)=>{\n            if (evt?.persisted) this.storeSupportabilityMetrics('Generic/BFCache/PageRestored');\n        });\n    }\n}\n\n});\nparcelRegister(\"jir4L\", function(module, exports) {\n\n$parcel$export(module.exports, \"getFrameworks\", function () { return $e0c4b370ab7f6d48$export$60db69da98760aaa; });\n/**\n * Copyright 2020-2025 New Relic, Inc. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ \nvar $7CBaz = parcelRequire(\"7CBaz\");\nconst $e0c4b370ab7f6d48$var$FRAMEWORKS = {\n    REACT: 'React',\n    NEXTJS: 'NextJS',\n    VUE: 'Vue',\n    NUXTJS: 'NuxtJS',\n    ANGULAR: 'Angular',\n    ANGULARUNIVERSAL: 'AngularUniversal',\n    SVELTE: 'Svelte',\n    SVELTEKIT: 'SvelteKit',\n    PREACT: 'Preact',\n    PREACTSSR: 'PreactSSR',\n    ANGULARJS: 'AngularJS',\n    BACKBONE: 'Backbone',\n    EMBER: 'Ember',\n    METEOR: 'Meteor',\n    ZEPTO: 'Zepto',\n    JQUERY: 'Jquery',\n    MOOTOOLS: 'MooTools',\n    QWIK: 'Qwik',\n    ELECTRON: 'Electron'\n};\nfunction $e0c4b370ab7f6d48$export$60db69da98760aaa() {\n    if (!(0, $7CBaz.isBrowserScope)) return []; // don't bother detecting frameworks if not in the main window context\n    const frameworks = [];\n    try {\n        if ($e0c4b370ab7f6d48$var$detectReact()) {\n            frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.REACT);\n            if ($e0c4b370ab7f6d48$var$detectNextJS()) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.NEXTJS);\n        }\n        if ($e0c4b370ab7f6d48$var$detectVue()) {\n            frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.VUE);\n            if ($e0c4b370ab7f6d48$var$detectNuxtJS()) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.NUXTJS);\n        }\n        if ($e0c4b370ab7f6d48$var$detectAngular()) {\n            frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.ANGULAR);\n            if ($e0c4b370ab7f6d48$var$detectAngularUniversal()) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.ANGULARUNIVERSAL);\n        }\n        if ($e0c4b370ab7f6d48$var$detectSvelte()) {\n            frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.SVELTE);\n            if ($e0c4b370ab7f6d48$var$detectSvelteKit()) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.SVELTEKIT);\n        }\n        if ($e0c4b370ab7f6d48$var$detectPreact()) {\n            frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.PREACT);\n            if ($e0c4b370ab7f6d48$var$detectPreactSSR()) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.PREACTSSR);\n        }\n        if ($e0c4b370ab7f6d48$var$detectAngularJs()) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.ANGULARJS);\n        if (Object.prototype.hasOwnProperty.call(window, 'Backbone')) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.BACKBONE);\n        if (Object.prototype.hasOwnProperty.call(window, 'Ember')) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.EMBER);\n        if (Object.prototype.hasOwnProperty.call(window, 'Meteor')) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.METEOR);\n        if (Object.prototype.hasOwnProperty.call(window, 'Zepto')) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.ZEPTO);\n        if (Object.prototype.hasOwnProperty.call(window, 'jQuery')) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.JQUERY);\n        if (Object.prototype.hasOwnProperty.call(window, 'MooTools')) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.MOOTOOLS);\n        if (Object.prototype.hasOwnProperty.call(window, 'qwikevents')) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.QWIK);\n        if ($e0c4b370ab7f6d48$var$detectElectron()) frameworks.push($e0c4b370ab7f6d48$var$FRAMEWORKS.ELECTRON);\n    } catch (err) {\n    // Possibly not supported\n    }\n    return frameworks;\n}\nfunction $e0c4b370ab7f6d48$var$detectReact() {\n    try {\n        return Object.prototype.hasOwnProperty.call(window, 'React') || Object.prototype.hasOwnProperty.call(window, 'ReactDOM') || Object.prototype.hasOwnProperty.call(window, 'ReactRedux') || document.querySelector('[data-reactroot], [data-reactid]') || (()=>{\n            const divs = document.querySelectorAll('body > div');\n            for(let i = 0; i < divs.length; i++){\n                if (Object.prototype.hasOwnProperty.call(divs[i], '_reactRootContainer')) return true;\n            }\n        })();\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectNextJS() {\n    // React SSR\n    try {\n        return Object.prototype.hasOwnProperty.call(window, 'next') && Object.prototype.hasOwnProperty.call(window.next, 'version');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectVue() {\n    try {\n        return Object.prototype.hasOwnProperty.call(window, 'Vue');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectNuxtJS() {\n    // Vue SSR\n    try {\n        return Object.prototype.hasOwnProperty.call(window, '$nuxt') && Object.prototype.hasOwnProperty.call(window.$nuxt, 'nuxt');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectAngular() {\n    try {\n        return Object.prototype.hasOwnProperty.call(window, 'ng') || document.querySelector('[ng-version]');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectAngularUniversal() {\n    // Anguler SSR\n    try {\n        return document.querySelector('[ng-server-context]');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectSvelte() {\n    try {\n        return Object.prototype.hasOwnProperty.call(window, '__svelte');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectSvelteKit() {\n    // Svelte SSR\n    try {\n        return !!Object.keys(window).find((prop)=>prop.startsWith('__sveltekit'));\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectPreact() {\n    try {\n        return Object.prototype.hasOwnProperty.call(window, 'preact');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectPreactSSR() {\n    // Svelte SSR\n    try {\n        return document.querySelector('script[type=\"__PREACT_CLI_DATA__\"]');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectAngularJs() {\n    try {\n        return Object.prototype.hasOwnProperty.call(window, 'angular') || document.querySelector('.ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]') || document.querySelector('script[src*=\"angular.js\"], script[src*=\"angular.min.js\"]');\n    } catch (err) {\n        return false;\n    }\n}\nfunction $e0c4b370ab7f6d48$var$detectElectron() {\n    try {\n        return typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0;\n    } catch (err) {\n        return false;\n    }\n}\n\n});\n\nparcelRegister(\"em8tw\", function(module, exports) {\n\n$parcel$export(module.exports, \"isIFrameWindow\", function () { return $a739b1c683042612$export$6cb21386b9b5d84e; });\n/**\n * Copyright 2020-2025 New Relic, Inc. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */ function $a739b1c683042612$export$6cb21386b9b5d84e(windowObject) {\n    if (!windowObject) return false;\n    return windowObject.self !== windowObject.top;\n}\n\n});\n\n\n})();\n//# sourceMappingURL=aggregate.aaca0490.js.map\n","/**\n * Copyright 2020-2025 New Relic, Inc. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { registerHandler } from '../../../common/event-emitter/register-handler';\nimport { FEATURE_NAME, SUPPORTABILITY_METRIC, CUSTOM_METRIC, SUPPORTABILITY_METRIC_CHANNEL, CUSTOM_METRIC_CHANNEL } from '../constants';\nimport { getFrameworks } from './framework-detection';\nimport { isFileProtocol } from '../../../common/url/protocol';\nimport { onDOMContentLoaded } from '../../../common/window/load';\nimport { windowAddEventListener } from '../../../common/event-listener/event-listener-opts';\nimport { isBrowserScope, isWorkerScope } from '../../../common/constants/runtime';\nimport { AggregateBase } from '../../utils/aggregate-base';\nimport { isIFrameWindow } from '../../../common/dom/iframe';\n// import { WEBSOCKET_TAG } from '../../../common/wrap/wrap-websocket'\n// import { handleWebsocketEvents } from './websocket-detection'\n\nexport class Aggregate extends AggregateBase {\n  static featureName = FEATURE_NAME;\n  constructor(agentRef) {\n    super(agentRef, FEATURE_NAME);\n    this.harvestOpts.aggregatorTypes = ['cm', 'sm']; // the types in EventAggregator this feature cares about\n    // This feature only harvests once per potential EoL of the page, which is handled by the central harvester.\n\n    // this must be read/stored synchronously, as the currentScript is removed from the DOM after this script is executed and this lookup will be void\n    // its used to report a SM later in the lifecycle\n    this.agentNonce = isBrowserScope && document.currentScript?.nonce;\n    this.waitForFlags(['err']).then(([errFlag]) => {\n      if (errFlag) {\n        this.singleChecks(); // checks that are run only one time, at script load\n        this.eachSessionChecks(); // the start of every time user engages with page\n        this.drain();\n      } else {\n        this.blocked = true; // if rum response determines that customer lacks entitlements for spa endpoint, this feature shouldn't harvest\n        this.deregisterDrain();\n      }\n    });\n\n    // Allow features external to the metrics feature to capture SMs and CMs through the event emitter\n    registerHandler(SUPPORTABILITY_METRIC_CHANNEL, this.storeSupportabilityMetrics.bind(this), this.featureName, this.ee);\n    registerHandler(CUSTOM_METRIC_CHANNEL, this.storeEventMetrics.bind(this), this.featureName, this.ee);\n  }\n  preHarvestChecks(opts) {\n    return this.drained && opts.isFinalHarvest;\n  } // only allow any metrics to be sent after we get the right RUM flag and only on EoL\n\n  storeSupportabilityMetrics(name, value) {\n    if (this.blocked) return;\n    const type = SUPPORTABILITY_METRIC;\n    const params = {\n      name\n    };\n    this.events.addMetric(type, name, params, value);\n  }\n  storeEventMetrics(name, metrics) {\n    if (this.blocked) return;\n    const type = CUSTOM_METRIC;\n    const params = {\n      name\n    };\n    this.events.add([type, name, params, metrics]);\n  }\n  singleChecks() {\n    // report loaderType\n    const {\n      distMethod,\n      loaderType\n    } = this.agentRef.runtime;\n    const {\n      proxy,\n      privacy\n    } = this.agentRef.init;\n    if (loaderType) this.storeSupportabilityMetrics(\"Generic/LoaderType/\".concat(loaderType, \"/Detected\"));\n    if (distMethod) this.storeSupportabilityMetrics(\"Generic/DistMethod/\".concat(distMethod, \"/Detected\"));\n    if (isBrowserScope) {\n      this.storeSupportabilityMetrics('Generic/Runtime/Browser/Detected');\n      if (this.agentNonce && this.agentNonce !== '') {\n        this.storeSupportabilityMetrics('Generic/Runtime/Nonce/Detected');\n      }\n\n      // These SMs are used by the AppExp team\n      onDOMContentLoaded(() => {\n        getFrameworks().forEach(framework => {\n          this.storeSupportabilityMetrics('Framework/' + framework + '/Detected');\n        });\n      });\n      if (!privacy.cookies_enabled) this.storeSupportabilityMetrics('Config/SessionTracking/Disabled');\n    } else if (isWorkerScope) {\n      this.storeSupportabilityMetrics('Generic/Runtime/Worker/Detected');\n    } else {\n      this.storeSupportabilityMetrics('Generic/Runtime/Unknown/Detected');\n    }\n\n    // Track if the agent is being loaded using a file protocol such as is the case in some\n    // set-top box applications or Electron applications\n    if (isFileProtocol()) {\n      this.storeSupportabilityMetrics('Generic/FileProtocol/Detected');\n    }\n\n    // Capture SMs to assess customer engagement with the obfuscation config\n    if (this.obfuscator.obfuscateConfigRules.length > 0) {\n      this.storeSupportabilityMetrics('Generic/Obfuscate/Detected');\n    }\n\n    // Check if proxy for either chunks or beacon is being used\n    if (proxy.assets) this.storeSupportabilityMetrics('Config/AssetsUrl/Changed');\n    if (proxy.beacon) this.storeSupportabilityMetrics('Config/BeaconUrl/Changed');\n    if (isBrowserScope && window.MutationObserver) {\n      if (isIFrameWindow(window)) {\n        this.storeSupportabilityMetrics('Generic/Runtime/IFrame/Detected');\n      }\n      const preExistingVideos = window.document.querySelectorAll('video').length;\n      if (preExistingVideos) this.storeSupportabilityMetrics('Generic/VideoElement/Added', preExistingVideos);\n      const preExistingIframes = window.document.querySelectorAll('iframe').length;\n      if (preExistingIframes) this.storeSupportabilityMetrics('Generic/IFrame/Added', preExistingIframes);\n      const mo = new MutationObserver(records => {\n        records.forEach(record => {\n          record.addedNodes.forEach(addedNode => {\n            if (addedNode instanceof HTMLVideoElement) {\n              this.storeSupportabilityMetrics('Generic/VideoElement/Added', 1);\n            }\n            if (addedNode instanceof HTMLIFrameElement) {\n              this.storeSupportabilityMetrics('Generic/IFrame/Added', 1);\n            }\n          });\n        });\n      });\n      mo.observe(window.document.body, {\n        childList: true,\n        subtree: true\n      });\n    }\n\n    // webdriver detection\n    if (navigator.webdriver) this.storeSupportabilityMetrics('Generic/WebDriver/Detected');\n\n    // WATCHABLE_WEB_SOCKET_EVENTS.forEach(tag => {\n    //   registerHandler('buffered-' + WEBSOCKET_TAG + tag, (...args) => {\n    //     handleWebsocketEvents(this.storeSupportabilityMetrics.bind(this), tag, ...args)\n    //   }, this.featureName, this.ee)\n    // })\n  }\n  eachSessionChecks() {\n    if (!isBrowserScope) return;\n\n    // [Temporary] Report restores from BFCache to NR1 while feature flag is in place in lieu of sending pageshow events.\n    windowAddEventListener('pageshow', evt => {\n      if (evt?.persisted) {\n        this.storeSupportabilityMetrics('Generic/BFCache/PageRestored');\n      }\n    });\n  }\n}","/**\n * Copyright 2020-2025 New Relic, Inc. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nimport { isBrowserScope } from '../../../common/constants/runtime';\nconst FRAMEWORKS = {\n  REACT: 'React',\n  NEXTJS: 'NextJS',\n  VUE: 'Vue',\n  NUXTJS: 'NuxtJS',\n  ANGULAR: 'Angular',\n  ANGULARUNIVERSAL: 'AngularUniversal',\n  SVELTE: 'Svelte',\n  SVELTEKIT: 'SvelteKit',\n  PREACT: 'Preact',\n  PREACTSSR: 'PreactSSR',\n  ANGULARJS: 'AngularJS',\n  BACKBONE: 'Backbone',\n  EMBER: 'Ember',\n  METEOR: 'Meteor',\n  ZEPTO: 'Zepto',\n  JQUERY: 'Jquery',\n  MOOTOOLS: 'MooTools',\n  QWIK: 'Qwik',\n  ELECTRON: 'Electron'\n};\nexport function getFrameworks() {\n  if (!isBrowserScope) return []; // don't bother detecting frameworks if not in the main window context\n\n  const frameworks = [];\n  try {\n    if (detectReact()) {\n      frameworks.push(FRAMEWORKS.REACT);\n      if (detectNextJS()) frameworks.push(FRAMEWORKS.NEXTJS);\n    }\n    if (detectVue()) {\n      frameworks.push(FRAMEWORKS.VUE);\n      if (detectNuxtJS()) frameworks.push(FRAMEWORKS.NUXTJS);\n    }\n    if (detectAngular()) {\n      frameworks.push(FRAMEWORKS.ANGULAR);\n      if (detectAngularUniversal()) frameworks.push(FRAMEWORKS.ANGULARUNIVERSAL);\n    }\n    if (detectSvelte()) {\n      frameworks.push(FRAMEWORKS.SVELTE);\n      if (detectSvelteKit()) frameworks.push(FRAMEWORKS.SVELTEKIT);\n    }\n    if (detectPreact()) {\n      frameworks.push(FRAMEWORKS.PREACT);\n      if (detectPreactSSR()) frameworks.push(FRAMEWORKS.PREACTSSR);\n    }\n    if (detectAngularJs()) frameworks.push(FRAMEWORKS.ANGULARJS);\n    if (Object.prototype.hasOwnProperty.call(window, 'Backbone')) frameworks.push(FRAMEWORKS.BACKBONE);\n    if (Object.prototype.hasOwnProperty.call(window, 'Ember')) frameworks.push(FRAMEWORKS.EMBER);\n    if (Object.prototype.hasOwnProperty.call(window, 'Meteor')) frameworks.push(FRAMEWORKS.METEOR);\n    if (Object.prototype.hasOwnProperty.call(window, 'Zepto')) frameworks.push(FRAMEWORKS.ZEPTO);\n    if (Object.prototype.hasOwnProperty.call(window, 'jQuery')) frameworks.push(FRAMEWORKS.JQUERY);\n    if (Object.prototype.hasOwnProperty.call(window, 'MooTools')) frameworks.push(FRAMEWORKS.MOOTOOLS);\n    if (Object.prototype.hasOwnProperty.call(window, 'qwikevents')) frameworks.push(FRAMEWORKS.QWIK);\n    if (detectElectron()) frameworks.push(FRAMEWORKS.ELECTRON);\n  } catch (err) {\n    // Possibly not supported\n  }\n  return frameworks;\n}\nfunction detectReact() {\n  try {\n    return Object.prototype.hasOwnProperty.call(window, 'React') || Object.prototype.hasOwnProperty.call(window, 'ReactDOM') || Object.prototype.hasOwnProperty.call(window, 'ReactRedux') || document.querySelector('[data-reactroot], [data-reactid]') || (() => {\n      const divs = document.querySelectorAll('body > div');\n      for (let i = 0; i < divs.length; i++) {\n        if (Object.prototype.hasOwnProperty.call(divs[i], '_reactRootContainer')) {\n          return true;\n        }\n      }\n    })();\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectNextJS() {\n  // React SSR\n  try {\n    return Object.prototype.hasOwnProperty.call(window, 'next') && Object.prototype.hasOwnProperty.call(window.next, 'version');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectVue() {\n  try {\n    return Object.prototype.hasOwnProperty.call(window, 'Vue');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectNuxtJS() {\n  // Vue SSR\n  try {\n    return Object.prototype.hasOwnProperty.call(window, '$nuxt') && Object.prototype.hasOwnProperty.call(window.$nuxt, 'nuxt');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectAngular() {\n  try {\n    return Object.prototype.hasOwnProperty.call(window, 'ng') || document.querySelector('[ng-version]');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectAngularUniversal() {\n  // Anguler SSR\n  try {\n    return document.querySelector('[ng-server-context]');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectSvelte() {\n  try {\n    return Object.prototype.hasOwnProperty.call(window, '__svelte');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectSvelteKit() {\n  // Svelte SSR\n  try {\n    return !!Object.keys(window).find(prop => prop.startsWith('__sveltekit'));\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectPreact() {\n  try {\n    return Object.prototype.hasOwnProperty.call(window, 'preact');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectPreactSSR() {\n  // Svelte SSR\n  try {\n    return document.querySelector('script[type=\"__PREACT_CLI_DATA__\"]');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectAngularJs() {\n  try {\n    return Object.prototype.hasOwnProperty.call(window, 'angular') || document.querySelector('.ng-binding, [ng-app], [data-ng-app], [ng-controller], [data-ng-controller], [ng-repeat], [data-ng-repeat]') || document.querySelector('script[src*=\"angular.js\"], script[src*=\"angular.min.js\"]');\n  } catch (err) {\n    return false;\n  }\n}\nfunction detectElectron() {\n  try {\n    return typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0;\n  } catch (err) {\n    return false;\n  }\n}","/**\n * Copyright 2020-2025 New Relic, Inc. All rights reserved.\n * SPDX-License-Identifier: Apache-2.0\n */\nexport function isIFrameWindow(windowObject) {\n  if (!windowObject) return false;\n  return windowObject.self !== windowObject.top;\n}"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","parcelRequire","$parcel$global","globalThis","self","window","global","parcelRegister","register","module","exports","$22e01b804188e663$export$b9601df20779e14a","$8auZx","$02hiY","$jir4L","$iyaPc","$j6o1x","$bXLOi","$7CBaz","$6Lc7k","$em8tw","AggregateBase","featureName","FEATURE_NAME","constructor","agentRef","harvestOpts","aggregatorTypes","agentNonce","isBrowserScope","document","currentScript","nonce","waitForFlags","then","errFlag","singleChecks","eachSessionChecks","drain","blocked","deregisterDrain","registerHandler","SUPPORTABILITY_METRIC_CHANNEL","storeSupportabilityMetrics","bind","ee","CUSTOM_METRIC_CHANNEL","storeEventMetrics","preHarvestChecks","opts","drained","isFinalHarvest","name","value","type","SUPPORTABILITY_METRIC","events","addMetric","metrics","CUSTOM_METRIC","add","distMethod","loaderType","runtime","proxy","privacy","init","concat","onDOMContentLoaded","getFrameworks","forEach","framework","cookies_enabled","isWorkerScope","isFileProtocol","obfuscator","obfuscateConfigRules","length","assets","beacon","MutationObserver","isIFrameWindow","preExistingVideos","querySelectorAll","preExistingIframes","mo","records","record","addedNodes","addedNode","HTMLVideoElement","HTMLIFrameElement","observe","body","childList","subtree","navigator","webdriver","windowAddEventListener","evt","persisted","$e0c4b370ab7f6d48$export$60db69da98760aaa","$e0c4b370ab7f6d48$var$FRAMEWORKS","REACT","NEXTJS","VUE","NUXTJS","ANGULAR","ANGULARUNIVERSAL","SVELTE","SVELTEKIT","PREACT","PREACTSSR","ANGULARJS","BACKBONE","EMBER","METEOR","ZEPTO","JQUERY","MOOTOOLS","QWIK","ELECTRON","frameworks","$e0c4b370ab7f6d48$var$detectReact","prototype","hasOwnProperty","call","querySelector","divs","i","err","push","$e0c4b370ab7f6d48$var$detectNextJS","next","$e0c4b370ab7f6d48$var$detectVue","$e0c4b370ab7f6d48$var$detectNuxtJS","$nuxt","$e0c4b370ab7f6d48$var$detectAngular","$e0c4b370ab7f6d48$var$detectAngularUniversal","$e0c4b370ab7f6d48$var$detectSvelte","$e0c4b370ab7f6d48$var$detectSvelteKit","keys","find","prop","startsWith","$e0c4b370ab7f6d48$var$detectPreact","$e0c4b370ab7f6d48$var$detectPreactSSR","$e0c4b370ab7f6d48$var$detectAngularJs","$e0c4b370ab7f6d48$var$detectElectron","userAgent","indexOf","$a739b1c683042612$export$6cb21386b9b5d84e","windowObject","top"],"version":3,"file":"aggregate.aaca0490.js.map"}